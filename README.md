# cr4te

> **âš ï¸ Under Construction**
> This project is still in development. Features, structure, and configuration may change without notice.

A static site generator for organizing and showcasing creative media projects. It scans your folder structure, extracts metadata and media (videos, audio files, images, documents,...), and builds a clean, searchable HTML gallery using Jinja2 templates.

<img src="data/example/artist_page.png" alt="Screenshot Project Page" width="100%"/>
<img src="data/example/project_page.png" alt="Screenshot Project Page" width="100%"/>

## Support This Project ðŸ™

If you find cr4te useful, consider [donating via PayPal](https://www.paypal.com/donate/?hosted_button_id=XERA3ZMTLZC2N) to help support continued development.

---

## Features

* **Automatically builds a gallery website** from your folder structure (e.g. directors and movies)
* **Thumbnail generation** for portraits, covers, and images
* **Dedicated overview pages for all projects with A-Z filter and tag-aware search**
* **Video, audio, image, and document organization with dynamic labels**
* **HTML label presets for different domains** (artists, musicians, directors, authors, ...)
* **User-customizable labels and media rules** via optional config file
* **Jinja2 templating for fast, maintainable static HTML**
* **Fast static HTML output** with no runtime dependencies during browsing
* **Theme switcher with persistent selection** using localStorage

> This tool is an ongoing work-in-progress. Expect improvements, breaking changes, and new features.

---

## Example Folder Structures

Your folder structure should look something like this (simple):

```
MyArtists/
â”œâ”€â”€ Alice/
â”‚   â”œâ”€â”€ cr4te.json           # Auto generated json file with optional meta data override
â”‚   â””â”€â”€ Project1/            # Media folder (images, videos, documents,...)
â””â”€â”€ Bob & Charlie/           # Collaboration folder
    â””â”€â”€ ProjectZ/            # Media folder
```

or this (more advanced):

```
MyArtists/
â”œâ”€â”€ Alice/
|   â”œâ”€â”€ meta                 # Optional meta data folder 
â”‚   â”œâ”€â”€ cr4te.json           # Auto generated json file with optional meta data override
â”‚   â”œâ”€â”€ README.md            # Optional description
|   â”œâ”€â”€ portrait.jpg         # Detectable portrait
â”‚   â””â”€â”€ Project1/            # Media folder
â”‚       â”œâ”€â”€ cover.jpg        # Detectable project cover
â”‚       â”œâ”€â”€ Landscape1.jpg
â”‚       â”œâ”€â”€ clip.mp4
â”‚       â”œâ”€â”€ document.pdf
â”‚       â”œâ”€â”€ README.md        # Optional project description
â”‚       â””â”€â”€ SubGroup/        # Media folder
â”‚           â””â”€â”€ *.jpg
â”‚           â””â”€â”€ *.m4a
â””â”€â”€ Bob & Charlie/           # Collaboration folder
    â””â”€â”€ ProjectZ/            # Media folder
```
---

## Installation

```bash
git clone https://github.com/vger-6/cr4te.git
cd cr4te
pip install -r requirements.txt
```

---

## Usage

### Step 1: Build JSON metadata

See also the [Quick-Start](https://github.com/vger-6/cr4te/blob/main/data/example#quick-start) which includes a step-by-step guide using example data.

```bash
python cr4te.py build-json -i <input_folder>
```

> **âš ï¸ Note**
> cr4te.json files are automatically generated by the build-json command and saved directly into each creatorâ€™s original folder (e.g., <input_folder>\*/cr4te.json). These files can be manually edited to override or extend metadata such as birth dates, aliases, tags, or project descriptions.

### Step 2: Generate HTML site

```bash
python cr4te.py build-html -i <input_folder> -o <output_folder>
```

### Optional: Custom Configuration

```bash
python cr4te.py build-html -i <input_folder> -o <output_folder> --config config/cr4te_config.json
```

### Optional: Apply a Label Preset

```bash
python cr4te.py build-html -i /<input_folder> -o <output_folder> --html-preset film
```

Available presets:

* `art` (default)
* `film`
* `music`
* `book`

If `--config` is not specified, cr4te uses internal defaults.

Additional options:

* `--max-images` â€” Set maximum images per media group (overrides config)
* `--image-sample-strategy` â€” Image selection strategy: `spread` (default), `head`, `all`
  * `spread` (default): even sampling throughout the list
  * `head`: take the first N images
  * `all`: take all images

If `--image-sample-strategy all` is used `--max-images` has no effect.

---

## Configuration

Your configuration file should be in JSON format and can override labels and media matching rules.

### Special Rules

* `creator_page_visible_creator_fields`: Controls which creator attributes (e.g., `aliases`, `nationality`) are shown
* `project_page_visible_project_fields`: Controls which project attributes (e.g., `release_date`) are shown

---

## Creator Metadata: `cr4te.json`

Each creator folder can contain a `cr4te.json` file to override or extend metadata.
This file is automatically generated but can also be edited by hand.

See this [`cr4te.json`](https://github.com/vger-6/cr4te/blob/main/data/example/Artists/Noomi/_cr4te.json) file as an example.

### Editable Fields (excerpt)

* `born_or_founded`: Must be in `YYYY-MM-DD` format
* `active_since`: Must be in `YYYY-MM-DD` format
* `nationality`: Any free-form text
* `aliases`: List of alternate names
* `portrait`: Relative path to the portrait image
* `info`: Optional bio text (supports Markdown)
* `tags`: Format should be `Category:Tag`, e.g. `Occupation:Photographer` or just `Photographer`
* `projects[*].info`: Optional per-project description
* `projects[*].tags`: Tag list for each project
* `images`: List of auto detected image files
* `members`: If this is a group folder, add member names
* `collaborations`: Add collaboration names

---

## Output Example

* `index.html` â€” Overview page
* `projects.html` â€” Projects overview page
* `creators/<creator>.html` â€” Individual profile pages
* `projects/<project>.html` â€” Individual project pages
* `tags.html` â€” Browse by tags

Thumbnails are automatically generated into `/thumbnails/`.

---

## Requirements

* Python 3.10+
* Pillow
* Markdown
* Jinja2
* Pydantic

Install dependencies:

```bash
pip install -r requirements.txt
```

---

## Troubleshooting

### LocalStorage not working under `file://`

Some browsers (notably Firefox with strict settings) block `localStorage` access across pages loaded with the `file://` protocol.

**Solution:** run a lightweight local server from your output folder:

```bash
cd /path/to/OutputFolder
python3 -m http.server 8000
```

Then open `http://localhost:8000/` in your browser.

This will fix localStorage issues and better match how your site behaves when deployed online.

---

## License

This project is licensed under the terms of the LICENSE file included.

---

## TODO

This section outlines planned improvements, refactors, and feature ideas for `cr4te`.

### ðŸ”§ Functionality

- [ ] Support project-only mode (without requiring associated creators)
- [ ] Add JSON validation schema
- [ ] Add `--dry-run` flag to `build-json` and `build-html` commands
- [ ] Add optional progress bar (e.g., using `tqdm`) for large folder trees
- [ ] Enable post-processing via custom hooks (e.g., metadata or templating)

### ðŸ“„ Output & Layout

- [ ] Use pagination on overview pages
- [ ] Extract and reuse button styles (e.g., for a "view PDF" button)
- [ ] Extract shared CSS styles for customization (or theme overrides)
- [ ] Split CSS files into modular components (e.g., layout, buttons, gallery)

### ðŸ§¹ Refactoring

- [ ] Consider internal mapping for config fields (e.g., `"creator_page_visible_creator_fields"`)

### ðŸ§ª Testing & Docs

- [ ] Add unit tests
- [ ] Add more professional logging (with support for `--verbose`)

---

## Credits

Created for artists, curators, media historians, and creative developers who want simple but structured control over their digital media archives.

> Development is ongoing. Feedback, ideas, and contributions are very welcome!
